# Amazon VPC Lattice - Auto Scaling Group Target (Terraform)

![Auto Scaling Group target](../../../images/pattern1_architecture2.png)

## Prerequisites

- **AWS Account**: With appropriate IAM permissions
- **Terraform**: >= 1.3.0 installed
- **AWS CLI**: Configured with credentials (optional, for verification)
- **Permissions required**:
  - VPC Lattice: Service networks, services, target groups
  - EC2: VPC, subnets, instances, security groups, Auto Scaling groups
  - IAM: Create roles and policies

## Deployment

```bash
# Clone the repository
git clone https://github.com/aws-samples/amazon-vpc-lattice-blueprints.git

# Navigate to the Terraform directory
cd patterns/1-simple_architectures/2-auto_scaling_group/terraform

# Initialize Terraform
terraform init

# (Optional) Review the planned changes
terraform plan

# Deploy the resources
terraform apply
```

> **Note**: The Auto Scaling group will deploy EC2 instances in all configured Availability Zones. Keep this in mind when testing this environment from a cost perspective - for production environments, we recommend the use of at least 2 AZs for high-availability.

## Cleanup

```bash
# Destroy all resources
terraform destroy
```

## Testing

After deployment, follow the testing steps in the [Pattern 2 - Auto Scaling Group Testing Connectivity section](../README.md#testing-connectivity-1) to verify connectivity between consumer instances and the Auto Scaling group through VPC Lattice.

## Next Steps

After successfully deploying this pattern:

1. **Test connectivity**: Follow the testing guide to verify the service works correctly
2. **Explore other targets**: Try [EC2 Instance](../../1-ec2_instance/), [Lambda](../../3-lambda_function/), or [ECS](../../4-ecs/) patterns
3. **Multi-Account**: Move to [Multi-Account patterns](../../../2-multi_account/) for cross-account deployments
4. **Advanced architectures**: Explore [Advanced patterns](../../../3-advanced_architectures/) for more complex scenarios
